webpackJsonp([1],{"+xJ1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=r("rJx0");!function(e){e[e.Empty=0]="Empty",e[e.Black=1]="Black",e[e.White=2]="White"}(i||(i={}));var s=function(){function e(){this.NO_MOVES_PENALTY=20,this.CORNERS_WEIGHT=801.724,this.NEAR_CORNERS_WEIGHT=382.026,this.STABILITY_WEIGHT=10,this.PARITY_WEIGHT=10,this.MOBILITY_WEIGHT=78.922,this.staticStabilityMap=[[20,-3,11,8,8,11,-3,20],[-3,-7,-4,1,1,-4,-7,-3],[11,-4,2,2,2,2,-4,11],[8,1,2,-3,-3,2,1,8],[8,1,2,-3,-3,2,1,8],[11,-4,2,2,2,2,-4,11],[-3,-7,-4,1,1,-4,-7,-3],[20,-3,11,8,8,11,-3,20]]}return e.prototype.evaluate=function(e,t){return this.parity(e,t)+this.mobility(e,t)+this.stability(e,t)+this.countCorners(e,t)},e.prototype.noAvailableMovesEvaluation=function(e,t){return this.evaluate(e,t)},e.prototype.parity=function(e,t){var r=new n.Reversi(e),s=r.get_score(t),a=t==i.Black?i.White:i.Black,o=r.get_score(a),c=100*(s-o)/(s+o)*this.PARITY_WEIGHT;return s>o?c:-c},e.prototype.mobility=function(e,t){var r=new n.Reversi(e),s=r.get_possible_movement(t).length,a=t==i.Black?i.White:i.Black,o=r.get_possible_movement(a).length;return s+o!==0?100*(s-o)/(s+o)*this.MOBILITY_WEIGHT:0},e.prototype.countCorners=function(e,t){var r=0,n=0,s=e.length-1;[{x:0,y:0},{x:s,y:0},{x:0,y:s},{x:s,y:s}].forEach(function(s){var a=t==i.Black?i.White:i.Black;e[s.x][s.y]==t?r++:e[s.x][s.y]==a&&n++,console.log("oppopent corner: "+n),console.log("my corner: "+r)});var a=0;return r+n!==0&&(a=100*(r-n)/(r+n)*this.CORNERS_WEIGHT),console.log(a),a},e.prototype.stability=function(e,t){for(var r=0,i=0;i<e.length;i++)for(var n=0;n<e.length;n++)if(null!=e[i][n]){i,n;var s=this.staticStabilityMap[i][n];r+=(e[i][n]===t?1:-1)*s}return r*this.STABILITY_WEIGHT},e}();t.Heuristic=s;var a=new n.Reversi(8),o=new s;console.log(o.evaluate(a.board,i.Black))},"1fCw":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADuSURBVDhPpZPPisJADMYz6VjxIuxFZRH/XO1l8V18HaW+zj6OVrwI6qWgIHi0dhqTmSLuorjT/R2mSTof8zXNKHiA4ujMjwYUec1VHsAgA1CpmiWDsgIoCxF1aR6dWNR8KhQKE/K7Pu878P6OlOzJVmjyD4n/RKCPapq0lLUqJ/qCeie2Gy7zhdr48hvfgRptwyqRX8LqYuafYl3nn+8PYe3KDTOmzD2hjG3Tpsy8KArauQmLoy076HH0Y9ZfQahTnCWfrmHT5RcP/t7GbxDhevI9lvjXrRotuDQEpUIw1/vwSHN4zcSqjleRqwLcADR2WFMjCNWJAAAAAElFTkSuQmCC"},"4WzX":function(e,t){},"7Li3":function(e,t,r){e.exports=r.p+"static/img/Reversi_logo3.7a0a177.jpg"},"7kxJ":function(e,t){},KNHE:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("7+uW"),n={name:"Menu",data:function(){return{msg:"Reversi",bSelected:"Human",wSelected:"Computer",sizeSelected:"8"}},props:{onclick:{type:Function}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"menu"},[i("img",{attrs:{src:r("7Li3"),id:"main-img"}}),e._v(" "),i("h1",[e._v(e._s(e.msg))]),e._v(" "),i("div",{attrs:{id:"game-board"}}),e._v(" "),e._m(0),e._v(" "),i("br"),e._v(" "),i("div",{attrs:{id:"message"}}),e._v(" "),i("div",{attrs:{id:"console"}}),e._v(" "),i("div",{attrs:{id:"stats"}}),e._v(" "),i("div",{attrs:{id:"preference-pane"}},[i("div",{attrs:{id:"player-type-forms"}},[i("label",[i("img",{attrs:{src:r("aSq4")}}),e._v("\n          Blue: "),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.bSelected,expression:"bSelected"}],attrs:{id:"black-player-type"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.bSelected=t.target.multiple?r:r[0]}}},[i("option",{attrs:{value:"Human",selected:""}},[e._v("Human ")]),e._v(" "),i("option",{attrs:{value:"Computer"}},[e._v("AI ")])])]),e._v("\n           \n        "),i("label",[i("img",{attrs:{src:r("1fCw")}}),e._v("\n          Orange: "),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.wSelected,expression:"wSelected"}],attrs:{id:"white-player-type"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.wSelected=t.target.multiple?r:r[0]}}},[i("option",{attrs:{value:"Human"}},[e._v("Human ")]),e._v(" "),i("option",{attrs:{value:"Computer",selected:""}},[e._v("AI ")])])]),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("label",[e._v("\n          Board size:\n          "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.sizeSelected,expression:"sizeSelected"}],attrs:{id:"board-size"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.sizeSelected=t.target.multiple?r:r[0]}}},[i("option",{attrs:{value:"4"}},[e._v("4x4")]),e._v(" "),i("option",{attrs:{value:"6"}},[e._v("6x6")]),e._v(" "),i("option",{attrs:{value:"8",selected:""}},[e._v("8x8")])])])]),e._v(" "),i("br"),e._v(" "),i("br"),e._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{id:"start-button",type:"submit"},on:{click:function(t){return e.onclick(e.bSelected,e.wSelected,e.sizeSelected)}}},[e._v("Start a new game")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"current-player"}},[this._v("Players : "),t("span",{attrs:{id:"current-player-name"}})])}]};var a=r("VU/8")(n,s,!1,function(e){r("nLCz")},"data-v-2701565d",null).exports,o=(r("rJx0"),r("d7EF")),c=r.n(o),l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],h=u.length,v=function(e){return[e%8,Math.floor(e/8)]},p=function(e,t){return e+8*t},d=function(e,t,r,i,n){for(var s=c()(t,2),a=s[0],o=s[1],l=c()(r,2),u=l[0],h=l[1],v=a,d=o,y=!0,f=!1,_=void 0;v>=0&&v<8&&d>=0&&d<8&&y;)(y=(_=e[p(v+=u,d+=h)])===i)&&(f=y);return f&&_===n},y={props:{color:{required:!0,type:Number},last:{type:Boolean}},computed:{white:function(){return 2===this.color},black:function(){return 1===this.color}}},f={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"jeton",class:{white:this.white,black:this.black,last:this.last}})},staticRenderFns:[]};var _=r("VU/8")(y,f,!1,function(e){r("KNHE")},null,null).exports,b={props:{current_player:{type:Number},scoreNoir:{type:Number},scoreBlanc:{type:Number},blackPlayer:{type:String},whitePlayer:{type:String},winner:{type:String},equality:{type:Boolean}}},A={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dashboard"},[i("h1",[e._v("Score")]),e._v(" "),i("div",{staticClass:"score_container"},["Blue"!==e.winner?i("div",[i("h2",{staticClass:"current_player_1"},[e._v("Blue")]),e._v(" "),i("div",{staticClass:"score_player"},[e._v(e._s(e.scoreNoir))])]):i("div",[i("h2",{staticClass:"current_player_1_win"},[e._v("Blue")]),e._v(" "),i("div",{staticClass:"score_player"},[e._v(e._s(e.scoreNoir))])]),e._v(" "),""!==this.winner&&!1===this.equality?i("div",[i("img",{attrs:{src:r("jZRp")}}),e._v(" "),i("h3",[e._v("Winner : "+e._s(this.winner))])]):!0===this.equality?i("div",[i("h3",[e._v("Draw")])]):e._e(),e._v(" "),"Orange"!==e.winner?i("div",[i("h2",{staticClass:"current_player_2"},[e._v("Orange")]),e._v(" "),i("div",{staticClass:"score_player"},[e._v(e._s(e.scoreBlanc))])]):i("div",[i("h2",{staticClass:"current_player_2_win"},[e._v("Orange")]),e._v(" "),i("div",{staticClass:"score_player"},[e._v(e._s(e.scoreBlanc))])])])])},staticRenderFns:[]};var m=r("VU/8")(b,A,!1,function(e){r("7kxJ")},null,null).exports,g=(r("bFxS"),{data:function(){return{reversi:null,currentPlayer:1,possibilies:[],board:[],scoreNoir:2,scoreBlanc:2,whiteBlocked:!1,blackBlocked:!1,highestScore:0,winner:"",equality:!1,last:{x:null,y:null}}},mounted:function(){var e=r("rJx0").Reversi;this.reversi=new e(this.boardSize),this.board=this.reversi.board.slice(),this.displayPossibleMovement(),this.checkIa()},methods:{result:function(){return""===this.winner?this.currentPlayer:"Blue"===this.winner?1:"Orange"===this.winner?2:this.equality?3:void 0},isLast:function(e,t){return e===this.last.x&&t===this.last.y},play:function(e,t){var r=this.possibilies.find(function(r){return r.x===e&&r.y===t});this.reversi.play(r,this.currentPlayer),this.board=this.reversi.board.slice(),this.currentPlayer=1===this.currentPlayer?2:1,this.scoreNoir=this.reversi.get_score(1),this.scoreBlanc=this.reversi.get_score(2),this.displayPossibleMovement(),this.last={x:e,y:t},this.checkIa()},displayPossibleMovement:function(){this.possibilies=this.reversi.get_possible_movement(this.currentPlayer).slice(),0===this.possibilies.length&&1===this.currentPlayer?(!0===this.whiteBlocked&&(this.highestScore=Math.max(this.reversi.get_score(1),this.reversi.get_score(2)),this.reversi.get_score(1)===this.reversi.get_score(2)?this.equality=!0:this.reversi.get_score(1)===this.highestScore?this.winner="Blue":this.winner="Orange"),this.blackBlocked=!0,this.currentPlayer=2,this.blackBlocked&&this.whiteBlocked||this.displayPossibleMovement()):0===this.possibilies.length&&2===this.currentPlayer?(!0===this.blackBlocked&&(this.highestScore=Math.max(this.reversi.get_score(1),this.reversi.get_score(2)),this.reversi.get_score(1)===this.reversi.get_score(2)?this.equality=!0:this.reversi.get_score(1)===this.highestScore?this.winner="Blue":this.winner="Orange"),this.whiteBlocked=!0,this.currentPlayer=1,this.blackBlocked&&this.whiteBlocked||this.displayPossibleMovement()):(this.blackBlocked=!1,this.whiteBlocked=!1)},checkPlayable:function(e,t){return this.possibilies.find(function(r){return r.x===e&&r.y===t})},checkIa:function(){var e=this;if(1==this.currentPlayer&&"Computer"==this.blackPlayer||2==this.currentPlayer&&"Computer"==this.whitePlayer){var t=r("bFxS").nextPlay(this.board,this.possibilies,this.currentPlayer);setTimeout(function(){e.play(t.x,t.y)},300)}}},components:{Jeton:_,Score:m},props:{boardSize:{type:Number},blackPlayer:{type:String},whitePlayer:{type:String},onclick:{type:Function}}}),k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{class:"board-container"+this.result()},[r("div",{class:"board"+this.boardSize},e._l(e.board,function(t,i){return r("div",{key:i},e._l(t,function(t,n){return r("div",{key:n,staticClass:"cell",class:{playable:e.checkPlayable(i,n)},on:{click:function(t){return e.play(i,n)}}},[0!==t?r("jeton",{attrs:{color:t,last:e.isLast(i,n)}}):e._e()],1)}),0)}),0)]),e._v(" "),r("Score",{attrs:{current_player:e.currentPlayer,scoreNoir:e.scoreNoir,scoreBlanc:e.scoreBlanc,blackPlayer:e.blackPlayer,whitePlayer:e.whitePlayer,winner:e.winner,equality:e.equality}}),e._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{id:"restart-button",type:"submit"},on:{click:function(t){return e.onclick()}}},[e._v("Restart")])],1)},staticRenderFns:[]};var x={name:"App",components:{Menu:a,Board:r("VU/8")(g,k,!1,function(e){r("azBi")},null,null).exports},data:function(){return{state:0,blackPlayer:"",whitePlayer:"",boardSize:8}},methods:{play:function(e,t,r){this.blackPlayer=e,this.whitePlayer=t,this.boardSize=Number(r),this.state=1},restart:function(){this.state=0}}},P={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[0===e.state?r("Menu",{attrs:{onclick:e.play}}):e._e(),e._v(" "),1===e.state?r("Board",{attrs:{blackPlayer:e.blackPlayer,whitePlayer:e.whitePlayer,boardSize:e.boardSize,onclick:e.restart}}):e._e()],1)},staticRenderFns:[]};var w=r("VU/8")(x,P,!1,function(e){r("4WzX")},null,null).exports,S=r("Dd8w"),B=r.n(S),R=r("NYxO"),E={playableCells:function(e){var t=e.board,r=e.currentPlayer,i=2===r?1:2,n=[];return t.forEach(function(e,s){if(0===e){for(var a=v(s),o=0,c=!1;!c&&o<h;){var l=u[o];o+=1,c=d(t,a,l,i,r)}c&&n.push(p(a[0],a[1]))}}),n},reversibleCells:function(e){return function(t){var r=e.board,i=e.currentPlayer,n=v(t);return u.map(function(e){return function(e,t,r,i){for(var n=c()(t,2),s=n[0],a=n[1],o=c()(r,2),l=o[0],u=o[1],h=s+l,v=a+u,d=[],y=!1,f=!1,_=void 0;h>0&&h<8&&v>0&&v<8&&!y&&!f;)f=0===(_=e[p(h,v)]),(y=_===i)||f||d.push([h,v]),h+=l,v+=u;return f&&(d=[]),d}(r,n,e,i)}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){var t=c()(e,2),r=t[0],i=t[1];return p(r,i)}).concat([t])}},blackPlayerScore:function(e){return e.board.filter(function(e){return 1===e}).length},whitePlayerScore:function(e){return e.board.filter(function(e){return 2===e}).length},winner:function(e,t){var r=null;return 0===t.whitePlayerScore?r=1:0===t.blackPlayerScore?r=2:0===e.board.filter(function(e){return 0===e}).length&&(r=t.whitePlayerScore>t.blackPlayerScore?2:1),r}},C={changePlayer:function(e){e.currentPlayer=2===e.currentPlayer?1:2},changePiece:function(e,t){var r=t.position,n=t.color;if(r>64||r<0)throw new Error(r+" position is invalid");i.a.set(e.board,r,n)},restart:function(e){e.board=l.slice(0)}},W={play:function(e,t){var r=e.state.currentPlayer;e.getters.reversibleCells(t).forEach(function(t){e.commit("changePiece",{position:t,color:r})}),e.commit("changePlayer")}};i.a.use(R.a);var I={board:l.slice(0),currentPlayer:1};i.a.config.productionTip=!1,new i.a({store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{actions:{},mutations:{},getters:{},state:{}};return new R.a.Store({state:B()({},I,e.state),mutations:B()({},C,e.mutations),actions:B()({},W,e.actions),getters:B()({},E,e.getters)})}(),render:function(e){return e(w)}}).$mount("#app")},aSq4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF3SURBVDhPY2RAAv///3cAUuZewReavn37ywYRZWDg4mL+tW2tQR6QuZORkfEBRJSBAawZqEkGSMkERV3a8e37X+4fP/6xgMSRAScn029uLuaPa5bouQK5L4CGvGCCSDHIxKVdnfPu/W9+bBpB4Pv3f6xv3v4WSc6+NhnIlQCJMYKcCrRxA0gjSIAYICLM+gboAlOQzeYgp0KEiQNA1/ECKXMmUODgciou8OPnP1BgWjDae5z5DxEiDXBxMf2GBRjJ4N9fBkYmJiZGsmz+9+8/E9O+rUYTWVhIM4CNjfHfkjkyfSBnH+DkYPoBESYOANV///jx4wmQ5oPA5PcRIkwc4OJker9jx46TsOSpkFtys+zy1S+ZYFk8QEWJaVtxDkeVlpbWRZhmASAlEB5/+TgwGfIB45H9169/zCA5EAD5EeRUkI115aw+QKGXQM0v0HOVABBbAJkW7gHna0AxwcTE8H/eVMnJnz59Or59+/YTBQUFTyCqGRgAHPiZtBTaFmgAAAAASUVORK5CYII="},azBi:function(e,t){},bFxS:function(e,t,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Empty=0]="Empty",e[e.Black=1]="Black",e[e.White=2]="White"}(i||(i={}));var n=r("+xJ1");t.nextPlay=function(e,t,r){for(var i=new n.Heuristic,s={score:null,play:null},a=0;a<t.length;a++){for(var o=t[a],c=[],l=0;l<e.length;l++)c.push(e[l].slice());c[o.x][o.y]=r;var u=i.evaluate(c,r);(null===s.score||u>s.score)&&(s={score:u,play:o})}return s.play}},jZRp:function(e,t,r){e.exports=r.p+"static/img/52183.32a935d.gif"},nLCz:function(e,t){},rJx0:function(e,t,r){"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Empty=0]="Empty",e[e.Black=1]="Black",e[e.White=2]="White"}(i||(i={})),function(e){e[e.Black=0]="Black",e[e.White=1]="White"}(n||(n={}));var s=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1}],a=function(){function e(e){if("number"==typeof e){this.size=e,this.board=[];for(var t=0;t<e;t++){this.board.push([]);for(var r=0;r<e;r++)this.board[t].push(i.Empty)}this.board[e/2-1][e/2-1]=i.White,this.board[e/2][e/2]=i.White,this.board[e/2-1][e/2]=i.Black,this.board[e/2][e/2-1]=i.Black}else if("object"==typeof e){this.board=[];for(t=0;t<e.length;t++)this.board.push(e[t].slice()),this.size=e.length}}return e.prototype.get_possible_movement=function(e){for(var t=this,r=[],i=0;i<this.size;i++)for(var n=0;n<this.size;n++){this.get_neighbourg(i,n).map(function(i){t.check_in_board(i.coord)&&0==t.board[i.coord.x][i.coord.y]&&t.check_lines(e,i.coord)&&r.push({x:i.coord.x,y:i.coord.y})})}return r},e.prototype.check_in_board=function(e){return e.x<this.size&&e.x>=0&&e.y<this.size&&e.y>=0},e.prototype.get_neighbourg=function(e,t){var r=this,i=[];return s.map(function(n){var s={x:e+n.x,y:t+n.y};if(r.check_in_board(s)){var a={coord:s,direction:n};i.push(a)}}),i},e.prototype.check_line=function(e,t){var r=t.direction,i=t.coord;if(!this.check_in_board(i))return!1;var n={x:i.x+r.x,y:i.y+r.y};if(this.check_in_board(n)&&this.board[n.x][n.y]!==this.get_opposite_color(e))return!1;if(n.x+=r.x,n.y+=r.y,!this.check_in_board(n))return!1;for(;this.board[n.x][n.y]==this.get_opposite_color(e);)if(n.x+=r.x,n.y+=r.y,!this.check_in_board(n))return!1;return this.board[n.x][n.y]===e},e.prototype.check_lines=function(e,t){for(var r=0;r<s.length;r++){var i={coord:t,direction:s[r]};if(this.check_line(e,i))return!0}return!1},e.prototype.get_opposite_color=function(e){return e===i.Black?i.White:e===i.White?i.Black:i.Empty},e.prototype.play=function(e,t){for(var r=0;r<s.length;r++){var i={coord:e,direction:s[r]};this.check_and_capture(i,t)}this.board[e.x][e.y]=t},e.prototype.check_and_capture=function(e,t){var r=e.coord,i=r.x+e.direction.x,n=r.y+e.direction.y;if(this.check_line(t,e))for(;this.board[i][n]==this.get_opposite_color(t);)this.board[i][n]=t,i+=e.direction.x,n+=e.direction.y},e.prototype.get_score=function(e){for(var t=0,r=0;r<this.size;r++)for(var i=0;i<this.size;i++)this.board[r][i]==e&&t++;return t},e}();t.Reversi=a}},["NHnr"]);
//# sourceMappingURL=app.8c0433bf7484c476d582.js.map